{% extends 'base.html' %}

{% block title %}Inicio - Mi Aplicación{% endblock %}

{% block content %}
  {% if user.is_authenticated %}
    <div class="text-center">
      <h2 class="text-2xl font-bold mb-4 text-gray-800">¡Bienvenido, {{ user.username }}!</h2>
      <p class="mb-6 text-gray-600">Has iniciado sesión correctamente.</p>

      <div class="mt-6">
        <!-- Formulario de logout con método POST -->
        <form method="post" action="{% url 'logout' %}">
          {% csrf_token %}
          <button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
            Cerrar sesión
          </button>
        </form>

        <form method="post" action="{% url 'update' %}" class="mt-4">
          {% csrf_token %}
          <button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
            Actualizar datos
          </button>
        </form>
      </div>
    </div>
  {% else %}
    <div class="text-center">
      <h2 class="text-2xl font-bold mb-4 text-gray-800">Bienvenido a mi aplicación</h2>
      <p class="mb-6 text-gray-600">Por favor inicia sesión para continuar.</p>

      <div class="mt-6 space-y-3">
        <a href="{% url 'login' %}"
           class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          Iniciar sesión
        </a>

        <div>
          <a href="{% url 'register' %}" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">
            Crear cuenta nueva
          </a>
        </div>
      </div>
    </div>
  {% endif %}
{% endblock %}